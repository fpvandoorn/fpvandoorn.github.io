<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="proviola.css">
<link href="coqdoc.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script><script type="text/javascript">
      $(document).ready(function() {
        $(".command").mouseenter(function() {
          $(this).next(".output").fadeIn(5);
                   }).mouseleave(function() {
          $(this).next(".output").fadeOut(0);})
      });
    </script>
</head>
<body><div>

<div>
</div>

<div>

<h1 class="libtitle">Library env</h1>

<div>
<span class="command">
</span><div class="output"><pre></pre></div>
</div>

<div>
<a name="lab3"></a><h1 class="section">Typing Environment for annotated terms .</h1>

  As for Terms, we define contexts of "Annotated" terms, with the very 
  safe function and tools as for the usual one.
</div>
<div>
<span class="command">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="base.html#"><span class="id" type="library">base</span></a> <a class="idref" href="term.html#"><span class="id" type="library">term</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Lists.List.html#"><span class="id" type="library">List</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Peano_dec.html#"><span class="id" type="library">Peano_dec</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Compare_dec.html#"><span class="id" type="library">Compare_dec</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Lt.html#"><span class="id" type="library">Lt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Le.html#"><span class="id" type="library">Le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Gt.html#"><span class="id" type="library">Gt</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Module</span> <span class="id" type="keyword">Type</span> <a name="env_mod"><span class="id" type="module">env_mod</span></a> (<span class="id" type="var">X</span>:<a class="idref" href="base.html#"><span class="id" type="module">term_sig</span></a>) (<span class="id" type="var">TM</span>:<a class="idref" href="term.html#"><span class="id" type="module">term_mod</span></a> <a class="idref" href="env.html#"><span class="id" type="module">X</span></a>).</span><div class="output"><pre>Interactive Module Type env_mod started

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Import</span> <span class="id" type="var">TM</span>.</span><div class="output"><pre></pre></div>
<span class="command"><br>
</span><div class="output"><pre></pre></div>
</div>

<div>
Very naive definition of environment : list of term 

<div> </div>

 be carefull, the usual written env Γ(x:A) is encoded in 
  A::Γ

</div>
<div>
<span class="command">

<br>
<span class="id" type="keyword">Definition</span> <a name="env_mod.Env"><span class="id" type="definition">Env</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>.</span><div class="output"><pre>Env is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Set Implicit Arguments</span>.</span><div class="output"><pre></pre></div>
<span class="command"><br>
<span class="id" type="keyword">Inductive</span> <a name="env_mod.item"><span class="id" type="inductive">item</span></a> (<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>) (<span class="id" type="var">x</span>:<a class="idref" href="env.html#A"><span class="id" type="variable">A</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <span class="id" type="var">A</span> -&gt;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>-&gt;<span class="id" type="keyword">Prop</span> :=<br>
  | <a name="env_mod.item_hd"><span class="id" type="constructor">item_hd</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <span class="id" type="var">A</span>, (<a class="idref" href="env.html#item"><span class="id" type="inductive">item</span></a> <span class="id" type="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" type="constructor">cons</span></a> <span class="id" type="var">x</span> <a class="idref" href="env.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a>)<br>
  | <a name="env_mod.item_tl"><span class="id" type="constructor">item_tl</span></a>: <span class="id" type="keyword">forall</span> (<span class="id" type="var">l</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <span class="id" type="var">A</span>)(<span class="id" type="var">n</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)(<span class="id" type="var">y</span>:<span class="id" type="var">A</span>), <a class="idref" href="env.html#item"><span class="id" type="inductive">item</span></a> <span class="id" type="var">x</span> <a class="idref" href="env.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> -&gt; <a class="idref" href="env.html#item"><span class="id" type="inductive">item</span></a> <span class="id" type="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" type="constructor">cons</span></a> <a class="idref" href="env.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="env.html#l"><span class="id" type="variable">l</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a>).</span><div class="output"><pre>item is defined
item_ind is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Hint Constructors</span> <a class="idref" href="env.html#item"><span class="id" type="inductive">item</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Notation</span> <a name="env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">"</span></a> x ↓ n ∈ Γ " := (<a class="idref" href="env.html#env_mod.item"><span class="id" type="inductive">item</span></a> <span class="id" type="var">x</span> <span class="id" type="var">Γ</span> <span class="id" type="var">n</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80, <span class="id" type="keyword">no</span> <span class="id" type="keyword">associativity</span>) : <span class="id" type="var">Typ_scope</span>.</span><div class="output"><pre></pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.fun_item"><span class="id" type="lemma">fun_item</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">A</span> (<span class="id" type="var">u</span> <span class="id" type="var">v</span>:<a class="idref" href="env.html#A"><span class="id" type="variable">A</span></a>)(<span class="id" type="var">Γ</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="env.html#A"><span class="id" type="variable">A</span></a>)(<span class="id" type="var">n</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>), <br>
  <a class="idref" href="env.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> -&gt; <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> -&gt; <a class="idref" href="env.html#u"><span class="id" type="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 7)
  
  ============================
   forall (A : Type) (u v : A) (Γ : list A) (n : nat),
   u ↓ n ∈ Γ -&gt; v ↓ n ∈ Γ -&gt; u = v

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">e</span> <span class="id" type="var">n</span>;<br>
<span class="id" type="tactic">generalize</span> <span class="id" type="var">A</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">A</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">e</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 14)
  
  n : nat
  ============================
   forall (A : Type) (u v : A) (e : list A), u ↓ n ∈ e -&gt; v ↓ n ∈ e -&gt; u = v

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intros</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 26)
  
  A : Type
  u : A
  v : A
  e : list A
  H : u ↓ 0 ∈ e
  H0 : v ↓ 0 ∈ e
  ============================
   u = v

subgoal 2 (ID 32) is:
 u = v
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 77)
  
  A : Type
  u : A
  v : A
  e : list A
  H : u ↓ 0 ∈ e
  H0 : v ↓ 0 ∈ e
  l : list A
  H1 : u :: l = e
  l0 : list A
  H2 : v :: l0 = e
  ============================
   u = v

subgoal 2 (ID 32) is:
 u = v
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">injection</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 32)
  
  n : nat
  IHn : forall (A : Type) (u v : A) (e : list A),
        u ↓ n ∈ e -&gt; v ↓ n ∈ e -&gt; u = v
  A : Type
  u : A
  v : A
  e : list A
  H : u ↓ S n ∈ e
  H0 : v ↓ S n ∈ e
  ============================
   u = v

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 207)
  
  n : nat
  IHn : forall (A : Type) (u v : A) (e : list A),
        u ↓ n ∈ e -&gt; v ↓ n ∈ e -&gt; u = v
  A : Type
  u : A
  v : A
  l : list A
  y : A
  H3 : u ↓ n ∈ l
  l0 : list A
  y0 : A
  H6 : v ↓ n ∈ l0
  H : u ↓ S n ∈ y :: l
  H0 : v ↓ S n ∈ y :: l
  H5 : y0 :: l0 = y :: l
  ============================
   u = v

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">injection</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 228)
  
  n : nat
  IHn : forall (A : Type) (u v : A) (e : list A),
        u ↓ n ∈ e -&gt; v ↓ n ∈ e -&gt; u = v
  A : Type
  u : A
  v : A
  l : list A
  y : A
  H3 : u ↓ n ∈ l
  H : u ↓ S n ∈ y :: l
  H0 : v ↓ S n ∈ y :: l
  H6 : v ↓ n ∈ l
  H5 : y :: l = y :: l
  ============================
   u = v

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHn</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">e</span>:=<span class="id" type="var">l</span>); <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>fun_item is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Inductive</span> <a name="env_mod.trunc"><span class="id" type="inductive">trunc</span></a> (<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>-&gt;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <span class="id" type="var">A</span> -&gt;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <span class="id" type="var">A</span>-&gt;<span class="id" type="keyword">Prop</span> :=<br>
     <a name="env_mod.trunc_O"><span class="id" type="constructor">trunc_O</span></a>: <span class="id" type="keyword">forall</span> (<span class="id" type="var">Γ</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <span class="id" type="var">A</span>) , (<a class="idref" href="env.html#trunc"><span class="id" type="inductive">trunc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a>)<br>
   | <a name="env_mod.trunc_S"><span class="id" type="constructor">trunc_S</span></a>: <span class="id" type="keyword">forall</span> (<span class="id" type="var">k</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)(<span class="id" type="var">Γ</span> <span class="id" type="var">Γ'</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <span class="id" type="var">A</span>)(<span class="id" type="var">x</span>:<span class="id" type="var">A</span>), <a class="idref" href="env.html#trunc"><span class="id" type="inductive">trunc</span></a> <a class="idref" href="env.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#%CE%93'"><span class="id" type="variable">Γ'</span></a> <br>
                -&gt; <a class="idref" href="env.html#trunc"><span class="id" type="inductive">trunc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#k"><span class="id" type="variable">k</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" type="constructor">cons</span></a> <a class="idref" href="env.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a>) <a class="idref" href="env.html#%CE%93'"><span class="id" type="variable">Γ'</span></a>.</span><div class="output"><pre>trunc is defined
trunc_ind is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Hint Constructors</span> <a class="idref" href="env.html#trunc"><span class="id" type="inductive">trunc</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.item_trunc"><span class="id" type="lemma">item_trunc</span></a>: <span class="id" type="keyword">forall</span> (<span class="id" type="var">A</span>:<span class="id" type="keyword">Type</span>) (<span class="id" type="var">n</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">Γ</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="env.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">t</span>:<a class="idref" href="env.html#A"><span class="id" type="variable">A</span></a>), <br>
  <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="env.html#env_mod.trunc"><span class="id" type="inductive">trunc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a>) <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#f"><span class="id" type="variable">f</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 236)
  
  ============================
   forall (A : Type) (n : nat) (Γ : list A) (t : A),
   t ↓ n ∈ Γ -&gt; exists f : list A, trunc (S n) Γ f

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intros</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 247)
  
  A : Type
  Γ : list A
  t : A
  H : t ↓ 0 ∈ Γ
  ============================
   exists f : list A, trunc 1 Γ f

subgoal 2 (ID 250) is:
 exists f : list A, trunc (S (S n)) Γ f
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 265)
  
  A : Type
  Γ : list A
  t : A
  H : t ↓ 0 ∈ Γ
  l : list A
  H0 : t :: l = Γ
  ============================
   exists f : list A, trunc 1 (t :: l) f

subgoal 2 (ID 250) is:
 exists f : list A, trunc (S (S n)) Γ f
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">exists</span> <span class="id" type="var">l</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 291)
  
  A : Type
  Γ : list A
  t : A
  H : t ↓ 0 ∈ Γ
  l : list A
  H0 : t :: l = Γ
  ============================
   trunc 1 (t :: l) l

subgoal 2 (ID 250) is:
 exists f : list A, trunc (S (S n)) Γ f
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.trunc_S"><span class="id" type="constructor">trunc_S</span></a>; <span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.trunc_O"><span class="id" type="constructor">trunc_O</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 250)
  
  A : Type
  n : nat
  IHn : forall (Γ : list A) (t : A),
        t ↓ n ∈ Γ -&gt; exists f : list A, trunc (S n) Γ f
  Γ : list A
  t : A
  H : t ↓ S n ∈ Γ
  ============================
   exists f : list A, trunc (S (S n)) Γ f

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 348)
  
  A : Type
  n : nat
  IHn : forall (Γ : list A) (t : A),
        t ↓ n ∈ Γ -&gt; exists f : list A, trunc (S n) Γ f
  t : A
  l : list A
  y : A
  H2 : t ↓ n ∈ l
  H : t ↓ S n ∈ y :: l
  ============================
   exists f : list A, trunc (S (S n)) (y :: l) f

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">destruct</span> (<span class="id" type="var">IHn</span> <span class="id" type="var">l</span> <span class="id" type="var">t</span> <span class="id" type="var">H2</span>).</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 355)
  
  A : Type
  n : nat
  IHn : forall (Γ : list A) (t : A),
        t ↓ n ∈ Γ -&gt; exists f : list A, trunc (S n) Γ f
  t : A
  l : list A
  y : A
  H2 : t ↓ n ∈ l
  H : t ↓ S n ∈ y :: l
  x : list A
  H0 : trunc (S n) l x
  ============================
   exists f : list A, trunc (S (S n)) (y :: l) f

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 357)
  
  A : Type
  n : nat
  IHn : forall (Γ : list A) (t : A),
        t ↓ n ∈ Γ -&gt; exists f : list A, trunc (S n) Γ f
  t : A
  l : list A
  y : A
  H2 : t ↓ n ∈ l
  H : t ↓ S n ∈ y :: l
  x : list A
  H0 : trunc (S n) l x
  ============================
   trunc (S (S n)) (y :: l) x

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.trunc_S"><span class="id" type="constructor">trunc_S</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 358)
  
  A : Type
  n : nat
  IHn : forall (Γ : list A) (t : A),
        t ↓ n ∈ Γ -&gt; exists f : list A, trunc (S n) Γ f
  t : A
  l : list A
  y : A
  H2 : t ↓ n ∈ l
  H : t ↓ S n ∈ y :: l
  x : list A
  H0 : trunc (S n) l x
  ============================
   trunc (S n) l x

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>item_trunc is defined

</pre></div>
<span class="command"><br>

<br>
</span><div class="output"><pre></pre></div>
</div>

<div>
insert a type d1 in an env Γ : BE CAREFULL d1 is not checked to be a valid type in Γ 
  it takes care of the DeBruijn lift when need 
</div>
<div>
<span class="command">
<span class="id" type="keyword">Inductive</span> <a name="env_mod.ins_in_env"><span class="id" type="inductive">ins_in_env</span></a> (<span class="id" type="var">Γ</span>:<a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a> ) (<span class="id" type="var">d1</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>-&gt;<a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a> -&gt; <a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a>  -&gt;<span class="id" type="keyword">Prop</span> :=<br>
  | <a name="env_mod.ins_O"><span class="id" type="constructor">ins_O</span></a>: <a class="idref" href="env.html#ins_in_env"><span class="id" type="inductive">ins_in_env</span></a> <span class="id" type="var">Γ</span> <span class="id" type="var">d1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#O"><span class="id" type="constructor">O</span></a> <span class="id" type="var">Γ</span> (<span class="id" type="var">d1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">Γ</span>)<br>
  | <a name="env_mod.ins_S"><span class="id" type="constructor">ins_S</span></a>: <span class="id" type="keyword">forall</span> (<span class="id" type="var">n</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)(<span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span>:<a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a> )(<span class="id" type="var">d</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>), (<a class="idref" href="env.html#ins_in_env"><span class="id" type="inductive">ins_in_env</span></a> <span class="id" type="var">Γ</span> <span class="id" type="var">d1</span> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a>)<br>
    -&gt; <a class="idref" href="env.html#ins_in_env"><span class="id" type="inductive">ins_in_env</span></a> <span class="id" type="var">Γ</span> <span class="id" type="var">d1</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a>) ( <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">(</span></a><a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">↑</span></a> 1 <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">#</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">)::</span></a><a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> ).</span><div class="output"><pre>ins_in_env is defined
ins_in_env_ind is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Hint Constructors</span> <a class="idref" href="env.html#ins_in_env"><span class="id" type="inductive">ins_in_env</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.ins_item_ge"><span class="id" type="lemma">ins_item_ge</span></a>: <span class="id" type="keyword">forall</span> (<span class="id" type="var">d'</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>) (<span class="id" type="var">n</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span>:<a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a>), <br>
  <a class="idref" href="env.html#env_mod.ins_in_env"><span class="id" type="inductive">ins_in_env</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#d'"><span class="id" type="variable">d'</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> -&gt; <br>
  <span class="id" type="keyword">forall</span> (<span class="id" type="var">v</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>), <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'&lt;='_x"><span class="id" type="notation">&lt;=</span></a><a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> -&gt; <br>
 <span class="id" type="keyword">forall</span> (<span class="id" type="var">d</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>),  <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a>  -&gt; <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 364)
  
  ============================
   forall (d' : Term) (n : nat) (Γ Δ Δ' : Env),
   ins_in_env Γ d' n Δ Δ' -&gt;
   forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intros</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 380)
  
  d' : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' 0 Δ Δ'
  v : nat
  H0 : 0 &lt;= v
  d : Term
  H1 : d ↓ v ∈ Δ
  ============================
   d ↓ S v ∈ Δ'

subgoal 2 (ID 388) is:
 d ↓ S v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 442)
  
  d' : Term
  Δ : Env
  v : nat
  H0 : 0 &lt;= v
  d : Term
  H1 : d ↓ v ∈ Δ
  H : ins_in_env Δ d' 0 Δ (d' :: Δ)
  ============================
   d ↓ S v ∈ d' :: Δ

subgoal 2 (ID 388) is:
 d ↓ S v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_tl"><span class="id" type="constructor">item_tl</span></a>. </span><div class="output"><pre>2 subgoals, subgoal 1 (ID 443)
  
  d' : Term
  Δ : Env
  v : nat
  H0 : 0 &lt;= v
  d : Term
  H1 : d ↓ v ∈ Δ
  H : ins_in_env Δ d' 0 Δ (d' :: Δ)
  ============================
   d ↓ v ∈ Δ

subgoal 2 (ID 388) is:
 d ↓ S v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><span class="id" type="tactic">exact</span> <span class="id" type="var">H1</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 388)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' (S n) Δ Δ'
  v : nat
  H0 : S n &lt;= v
  d : Term
  H1 : d ↓ v ∈ Δ
  ============================
   d ↓ S v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 506)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &lt;= v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↓ S v ∈ d0 ↑ 1 # n :: Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_tl"><span class="id" type="constructor">item_tl</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 507)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &lt;= v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↓ v ∈ Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 517)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  H0 : S n &lt;= 0
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ 0 ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↓ 0 ∈ Δ'0

subgoal 2 (ID 523) is:
 d ↓ S v ∈ Δ'0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Le.html#le_Sn_O"><span class="id" type="abbreviation">le_Sn_O</span></a> <span class="id" type="var">n</span> <span class="id" type="var">H0</span>).</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 523)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &lt;= S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↓ S v ∈ Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHn</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">Γ</span>:=<span class="id" type="var">Γ</span>) (<span class="id" type="var">Δ</span>:=<span class="id" type="var">Δ0</span>).</span><div class="output"><pre>3 subgoals, subgoal 1 (ID 524)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &lt;= S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   ins_in_env Γ d' n Δ0 Δ'0

subgoal 2 (ID 525) is:
 n &lt;= v
subgoal 3 (ID 526) is:
 d ↓ v ∈ Δ0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 525)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &lt;= S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   n &lt;= v

subgoal 2 (ID 526) is:
 d ↓ v ∈ Δ0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Le.html#le_S_n"><span class="id" type="lemma">le_S_n</span></a> ; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 526)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &lt;= S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↓ v ∈ Δ0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 597)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↓ S v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &lt;= S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  l : list Term
  n0 : nat
  y : Term
  H4 : d ↓ v ∈ Δ0
  H2 : y = d0
  H5 : l = Δ0
  H6 : n0 = v
  ============================
   d ↓ v ∈ Δ0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">exact</span> <span class="id" type="var">H4</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>ins_item_ge is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.gt_O"><span class="id" type="lemma">gt_O</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'&gt;'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 603)
  
  ============================
   forall v : nat, ~ 0 &gt; v

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">intro</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 606)
  
  v : nat
  H : 0 &gt; v
  ============================
   False

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#gt"><span class="id" type="definition">gt</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. </span><div class="output"><pre>1 subgoals, subgoal 1 (ID 607)
  
  v : nat
  H : v &lt; 0
  ============================
   False

(dependent evars:)

</pre></div>
<span class="command"><span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Lt.html#lt_n_O"><span class="id" type="abbreviation">lt_n_O</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>gt_O is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.ins_item_lt"><span class="id" type="lemma">ins_item_lt</span></a>: <span class="id" type="keyword">forall</span> (<span class="id" type="var">d'</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>)(<span class="id" type="var">n</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)(<span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span>:<a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a>),<br>
 <a class="idref" href="env.html#env_mod.ins_in_env"><span class="id" type="inductive">ins_in_env</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#d'"><span class="id" type="variable">d'</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> -&gt;<br>
 <span class="id" type="keyword">forall</span> (<span class="id" type="var">v</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>), <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'&gt;'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> -&gt;<br>
 <span class="id" type="keyword">forall</span> (<span class="id" type="var">d</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>), <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> -&gt; <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">(</span></a><a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">↑</span></a> 1 <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">#</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">(</span></a><a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">)</span></a><a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> .</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 612)
  
  ============================
   forall (d' : Term) (n : nat) (Γ Δ Δ' : Env),
   ins_in_env Γ d' n Δ Δ' -&gt;
   forall v : nat,
   n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intros</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 628)
  
  d' : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' 0 Δ Δ'
  v : nat
  H0 : 0 &gt; v
  d : Term
  H1 : d ↓ v ∈ Δ
  ============================
   d ↑ 1 # (0 - S v) ↓ v ∈ Δ'

subgoal 2 (ID 636) is:
 d ↑ 1 # (S n - S v) ↓ v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">elim</span> (<a class="idref" href="env.html#env_mod.gt_O"><span class="id" type="lemma">gt_O</span></a> <span class="id" type="var">H0</span>).</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 636)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' (S n) Δ Δ'
  v : nat
  H0 : S n &gt; v
  d : Term
  H1 : d ↓ v ∈ Δ
  ============================
   d ↑ 1 # (S n - S v) ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 700)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &gt; v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↑ 1 # (S n - S v) ↓ v ∈ d0 ↑ 1 # n :: Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 710)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  H0 : S n &gt; 0
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ 0 ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↑ 1 # (S n - 1) ↓ 0 ∈ d0 ↑ 1 # n :: Δ'0

subgoal 2 (ID 716) is:
 d ↑ 1 # (S n - S (S v)) ↓ S v ∈ d0 ↑ 1 # n :: Δ'0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 785)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  H0 : S n &gt; 0
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  H1 : d0 ↓ 0 ∈ d0 :: Δ0
  ============================
   d0 ↑ 1 # (S n - 1) ↓ 0 ∈ d0 ↑ 1 # n :: Δ'0

subgoal 2 (ID 716) is:
 d ↑ 1 # (S n - S (S v)) ↓ S v ∈ d0 ↑ 1 # n :: Δ'0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>1) <span class="id" type="keyword">with</span> <span class="id" type="var">n</span> <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 789)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  H0 : S n &gt; 0
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  H1 : d0 ↓ 0 ∈ d0 :: Δ0
  ============================
   d0 ↑ 1 # n ↓ 0 ∈ d0 ↑ 1 # n :: Δ'0

subgoal 2 (ID 716) is:
 d ↑ 1 # (S n - S (S v)) ↓ S v ∈ d0 ↑ 1 # n :: Δ'0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_hd"><span class="id" type="constructor">item_hd</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 716)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &gt; S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↑ 1 # (S n - S (S v)) ↓ S v ∈ d0 ↑ 1 # n :: Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_tl"><span class="id" type="constructor">item_tl</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 805)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &gt; S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↑ 1 # (S n - S (S v)) ↓ v ∈ Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span>)) <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span>) <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 809)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &gt; S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↑ 1 # (n - S v) ↓ v ∈ Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHn</span> <span class="id" type="keyword">with</span> (<span class="id" type="var">Γ</span>:=<span class="id" type="var">Γ</span>) (<span class="id" type="var">Δ</span>:=<span class="id" type="var">Δ0</span>).</span><div class="output"><pre>3 subgoals, subgoal 1 (ID 812)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &gt; S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   ins_in_env Γ d' n Δ0 Δ'0

subgoal 2 (ID 813) is:
 n &gt; v
subgoal 3 (ID 814) is:
 d ↓ v ∈ Δ0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">exact</span> <span class="id" type="var">H3</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 813)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &gt; S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   n &gt; v

subgoal 2 (ID 814) is:
 d ↓ v ∈ Δ0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 814)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &gt; S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  ============================
   d ↓ v ∈ Δ0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 900)
  
  d' : Term
  n : nat
  IHn : forall Γ Δ Δ' : Env,
        ins_in_env Γ d' n Δ Δ' -&gt;
        forall v : nat,
        n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d ↑ 1 # (n - S v) ↓ v ∈ Δ'
  Γ : Env
  v : nat
  H0 : S n &gt; S v
  d : Term
  Δ0 : Env
  Δ'0 : Env
  d0 : Term
  H3 : ins_in_env Γ d' n Δ0 Δ'0
  H1 : d ↓ S v ∈ d0 :: Δ0
  H : ins_in_env Γ d' (S n) (d0 :: Δ0) (d0 ↑ 1 # n :: Δ'0)
  l : list Term
  n0 : nat
  y : Term
  H4 : d ↓ v ∈ Δ0
  H2 : y = d0
  H5 : l = Δ0
  H6 : n0 = v
  ============================
   d ↓ v ∈ Δ0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">exact</span> <span class="id" type="var">H4</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>ins_item_lt is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Definition</span> <a name="env_mod.item_lift"><span class="id" type="definition">item_lift</span></a> (<span class="id" type="var">t</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>) (<span class="id" type="var">Γ</span>:<a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a>) (<span class="id" type="var">n</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br>
     <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a>  <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="env.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x"><span class="id" type="notation">↑</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/%5C'_x"><span class="id" type="notation">/\</span></a>  <a class="idref" href="env.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> .</span><div class="output"><pre>item_lift is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Hint Unfold</span> <a class="idref" href="env.html#env_mod.item_lift"><span class="id" type="definition">item_lift</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>
<span class="id" type="keyword">Notation</span> <a name="env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%8A%82'_x"><span class="id" type="notation">"</span></a> t ↓ n ⊂ Γ " := (<a class="idref" href="env.html#env_mod.item_lift"><span class="id" type="definition">item_lift</span></a> <span class="id" type="var">t</span> <span class="id" type="var">Γ</span> <span class="id" type="var">n</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 80, <span class="id" type="keyword">no</span> <span class="id" type="keyword">associativity</span>): <span class="id" type="var">Typ_scope</span>.</span><div class="output"><pre></pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.ins_item_lift_lt"><span class="id" type="lemma">ins_item_lift_lt</span></a>: <span class="id" type="keyword">forall</span>  (<span class="id" type="var">d'</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>)(<span class="id" type="var">n</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)(<span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span>:<a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a> ),<br>
 <a class="idref" href="env.html#env_mod.ins_in_env"><span class="id" type="inductive">ins_in_env</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#d'"><span class="id" type="variable">d'</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> -&gt;<br>
 <span class="id" type="keyword">forall</span> (<span class="id" type="var">v</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>),  <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'&gt;'_x"><span class="id" type="notation">&gt;</span></a><a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> -&gt;<br>
 <span class="id" type="keyword">forall</span> (<span class="id" type="var">t</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>), <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%8A%82'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%8A%82'_x"><span class="id" type="notation">⊂</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a>  -&gt; <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%8A%82'_x"><span class="id" type="notation">(</span></a><a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">↑</span></a> 1 <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">#</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%8A%82'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%8A%82'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%8A%82'_x"><span class="id" type="notation">⊂</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 908)
  
  ============================
   forall (d' : Term) (n : nat) (Γ Δ Δ' : Env),
   ins_in_env Γ d' n Δ Δ' -&gt;
   forall v : nat, n &gt; v -&gt; forall t : Term, t ↓ v ⊂ Δ -&gt; t ↑ 1 # n ↓ v ⊂ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intros</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 918)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  H1 : t ↓ v ⊂ Δ
  ============================
   t ↑ 1 # n ↓ v ⊂ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">u</span> [ <span class="id" type="var">P</span> <span class="id" type="var">Q</span>]].</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 926)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  u : Term
  P : t = u ↑ (S v)
  Q : u ↓ v ∈ Δ
  ============================
   t ↑ 1 # n ↓ v ⊂ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">P</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 927)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  u : Term
  P : t = u ↑ (S v)
  Q : u ↓ v ∈ Δ
  ============================
   u ↑ (S v) ↑ 1 # n ↓ v ⊂ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">exists</span> (<span class="id" type="var">u</span> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">↑</span></a> 1 <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">#</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span><a class="idref" href="term.html#term_mod.:Typ_scope:x_'%E2%86%91'_x_'#'_x"><span class="id" type="notation">)</span></a> ); <span class="id" type="tactic">split</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 931)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  u : Term
  P : t = u ↑ (S v)
  Q : u ↓ v ∈ Δ
  ============================
   u ↑ (S v) ↑ 1 # n = u ↑ 1 # (n - S v) ↑ (S v)

subgoal 2 (ID 932) is:
 u ↑ 1 # (n - S v) ↓ v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span> ( <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a>)  <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 936)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  u : Term
  P : t = u ↑ (S v)
  Q : u ↓ v ∈ Δ
  ============================
   u ↑ (S v) ↑ 1 # (S v + (n - S v)) =
   u ↑ 1 # (S v + (n - S v) - S v) ↑ (S v)

subgoal 2 (ID 932) is:
 u ↑ 1 # (n - S v) ↓ v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">rewrite</span> <a class="idref" href="env.html#TM.liftP2"><span class="id" type="lemma">liftP2</span></a>.</span><div class="output"><pre>3 subgoals, subgoal 1 (ID 953)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  u : Term
  P : t = u ↑ (S v)
  Q : u ↓ v ∈ Δ
  ============================
   u ↑ 1 # (n - S v) ↑ (S v) = u ↑ 1 # (S v + (n - S v) - S v) ↑ (S v)

subgoal 2 (ID 954) is:
 0 &lt;= n - S v
subgoal 3 (ID 932) is:
 u ↑ 1 # (n - S v) ↓ v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+(</span></a><span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span>) <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span>) <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>3 subgoals, subgoal 1 (ID 958)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  u : Term
  P : t = u ↑ (S v)
  Q : u ↓ v ∈ Δ
  ============================
   u ↑ 1 # (n - S v) ↑ (S v) = u ↑ 1 # (n - S v) ↑ (S v)

subgoal 2 (ID 954) is:
 0 &lt;= n - S v
subgoal 3 (ID 932) is:
 u ↑ 1 # (n - S v) ↓ v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">reflexivity</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 954)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  u : Term
  P : t = u ↑ (S v)
  Q : u ↓ v ∈ Δ
  ============================
   0 &lt;= n - S v

subgoal 2 (ID 932) is:
 u ↑ 1 # (n - S v) ↓ v ∈ Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 932)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  t : Term
  u : Term
  P : t = u ↑ (S v)
  Q : u ↓ v ∈ Δ
  ============================
   u ↑ 1 # (n - S v) ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">clear</span> <span class="id" type="var">t</span> <span class="id" type="var">P</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 989)
  
  d' : Term
  n : nat
  Γ : Env
  Δ : Env
  Δ' : Env
  H : ins_in_env Γ d' n Δ Δ'
  v : nat
  H0 : n &gt; v
  u : Term
  Q : u ↓ v ∈ Δ
  ============================
   u ↑ 1 # (n - S v) ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1056)
  
  d' : Term
  Δ : Env
  v : nat
  u : Term
  Q : u ↓ v ∈ Δ
  H0 : 0 &gt; v
  H : ins_in_env Δ d' 0 Δ (d' :: Δ)
  ============================
   u ↑ 1 # (0 - S v) ↓ v ∈ d' :: Δ

subgoal 2 (ID 1073) is:
 u ↑ 1 # (S n0 - S v) ↓ v ∈ d ↑ 1 # n0 :: Δ'0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">elim</span> (<a class="idref" href="env.html#env_mod.gt_O"><span class="id" type="lemma">gt_O</span></a> <span class="id" type="var">H0</span>).</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1073)
  
  d' : Term
  Γ : Env
  v : nat
  u : Term
  n0 : nat
  Δ0 : Env
  Δ'0 : Env
  d : Term
  H1 : ins_in_env Γ d' n0 Δ0 Δ'0
  Q : u ↓ v ∈ d :: Δ0
  H0 : S n0 &gt; v
  H : ins_in_env Γ d' (S n0) (d :: Δ0) (d ↑ 1 # n0 :: Δ'0)
  ============================
   u ↑ 1 # (S n0 - S v) ↓ v ∈ d ↑ 1 # n0 :: Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">Q</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1151)
  
  d' : Term
  Γ : Env
  n0 : nat
  Δ0 : Env
  Δ'0 : Env
  d : Term
  H1 : ins_in_env Γ d' n0 Δ0 Δ'0
  H : ins_in_env Γ d' (S n0) (d :: Δ0) (d ↑ 1 # n0 :: Δ'0)
  H0 : S n0 &gt; 0
  Q : d ↓ 0 ∈ d :: Δ0
  ============================
   d ↑ 1 # (S n0 - 1) ↓ 0 ∈ d ↑ 1 # n0 :: Δ'0

subgoal 2 (ID 1159) is:
 u ↑ 1 # (S n0 - S (S n)) ↓ S n ∈ d ↑ 1 # n0 :: Δ'0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>1) <span class="id" type="keyword">with</span> <span class="id" type="var">n0</span> <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1163)
  
  d' : Term
  Γ : Env
  n0 : nat
  Δ0 : Env
  Δ'0 : Env
  d : Term
  H1 : ins_in_env Γ d' n0 Δ0 Δ'0
  H : ins_in_env Γ d' (S n0) (d :: Δ0) (d ↑ 1 # n0 :: Δ'0)
  H0 : S n0 &gt; 0
  Q : d ↓ 0 ∈ d :: Δ0
  ============================
   d ↑ 1 # n0 ↓ 0 ∈ d ↑ 1 # n0 :: Δ'0

subgoal 2 (ID 1159) is:
 u ↑ 1 # (S n0 - S (S n)) ↓ S n ∈ d ↑ 1 # n0 :: Δ'0
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_hd"><span class="id" type="constructor">item_hd</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1159)
  
  d' : Term
  Γ : Env
  u : Term
  n0 : nat
  Δ0 : Env
  Δ'0 : Env
  d : Term
  H1 : ins_in_env Γ d' n0 Δ0 Δ'0
  H : ins_in_env Γ d' (S n0) (d :: Δ0) (d ↑ 1 # n0 :: Δ'0)
  n : nat
  H5 : u ↓ n ∈ Δ0
  Q : u ↓ S n ∈ d :: Δ0
  H0 : S n0 &gt; S n
  ============================
   u ↑ 1 # (S n0 - S (S n)) ↓ S n ∈ d ↑ 1 # n0 :: Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_tl"><span class="id" type="constructor">item_tl</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1178)
  
  d' : Term
  Γ : Env
  u : Term
  n0 : nat
  Δ0 : Env
  Δ'0 : Env
  d : Term
  H1 : ins_in_env Γ d' n0 Δ0 Δ'0
  H : ins_in_env Γ d' (S n0) (d :: Δ0) (d ↑ 1 # n0 :: Δ'0)
  n : nat
  H5 : u ↓ n ∈ Δ0
  Q : u ↓ S n ∈ d :: Δ0
  H0 : S n0 &gt; S n
  ============================
   u ↑ 1 # (S n0 - S (S n)) ↓ n ∈ Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>)) <span class="id" type="keyword">with</span> (<span class="id" type="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span>) <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1182)
  
  d' : Term
  Γ : Env
  u : Term
  n0 : nat
  Δ0 : Env
  Δ'0 : Env
  d : Term
  H1 : ins_in_env Γ d' n0 Δ0 Δ'0
  H : ins_in_env Γ d' (S n0) (d :: Δ0) (d ↑ 1 # n0 :: Δ'0)
  n : nat
  H5 : u ↓ n ∈ Δ0
  Q : u ↓ S n ∈ d :: Δ0
  H0 : S n0 &gt; S n
  ============================
   u ↑ 1 # (n0 - S n) ↓ n ∈ Δ'0

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.ins_item_lt"><span class="id" type="lemma">ins_item_lt</span></a> <span class="id" type="keyword">with</span> <span class="id" type="var">d'</span> <span class="id" type="var">Γ</span> <span class="id" type="var">Δ0</span>; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1186)
  
  d' : Term
  Γ : Env
  u : Term
  n0 : nat
  Δ0 : Env
  Δ'0 : Env
  d : Term
  H1 : ins_in_env Γ d' n0 Δ0 Δ'0
  H : ins_in_env Γ d' (S n0) (d :: Δ0) (d ↑ 1 # n0 :: Δ'0)
  n : nat
  H5 : u ↓ n ∈ Δ0
  Q : u ↓ S n ∈ d :: Δ0
  H0 : S n0 &gt; S n
  ============================
   n0 &gt; n

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>ins_item_lift_lt is defined

</pre></div>
<span class="command"><br>

<br>
</span><div class="output"><pre></pre></div>
</div>

<div>
if Γ == Γ1 (x:T) Γ2   and Γ1 ⊢ t:T  and Γ1 as size n 
   then Γ<span class="inlinecode"><a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a>←</span> <span class="inlinecode"><a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a></span> = Γ1 (Γ2<span class="inlinecode"><a class="idref" href="env.html#x"><span class="id" type="variable">x</span></a></span> <span class="inlinecode">←</span> <span class="inlinecode"><a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a></span>)

</div>
<div>
<span class="command">

<br>
<span class="id" type="keyword">Inductive</span> <a name="env_mod.sub_in_env"><span class="id" type="inductive">sub_in_env</span></a> (<span class="id" type="var">Γ</span> : <a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a>) (<span class="id" type="var">t</span> <span class="id" type="var">T</span>:<a class="idref" href="env.html#TM.Term"><span class="id" type="inductive">Term</span></a>):<br>
  <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> -&gt; <a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a> -&gt; <a class="idref" href="env.html#env_mod.Env"><span class="id" type="definition">Env</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br>
    | <a name="env_mod.sub_O"><span class="id" type="constructor">sub_O</span></a> :  <a class="idref" href="env.html#sub_in_env"><span class="id" type="inductive">sub_in_env</span></a> <span class="id" type="var">Γ</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span> 0 (<span class="id" type="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">Γ</span>) <span class="id" type="var">Γ</span><br>
    | <a name="env_mod.sub_S"><span class="id" type="constructor">sub_S</span></a> :<br>
        <span class="id" type="keyword">forall</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span> <span class="id" type="var">n</span>  <span class="id" type="var">B</span>,<br>
        <a class="idref" href="env.html#sub_in_env"><span class="id" type="inductive">sub_in_env</span></a> <span class="id" type="var">Γ</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> -&gt;<br>
        <a class="idref" href="env.html#sub_in_env"><span class="id" type="inductive">sub_in_env</span></a> <span class="id" type="var">Γ</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="env.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a>) ( <a class="idref" href="env.html#B"><span class="id" type="variable">B</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%5B'_x_'%E2%86%90'_x_'%5D'"><span class="id" type="notation">[</span></a><a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="term.html#term_mod.:Typ_scope:x_'%5B'_x_'%E2%86%90'_x_'%5D'"><span class="id" type="notation">←</span></a> <span class="id" type="var">t</span><a class="idref" href="term.html#term_mod.:Typ_scope:x_'%5B'_x_'%E2%86%90'_x_'%5D'"><span class="id" type="notation">]</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a>).</span><div class="output"><pre>sub_in_env is defined
sub_in_env_ind is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Hint Constructors</span> <a class="idref" href="env.html#sub_in_env"><span class="id" type="inductive">sub_in_env</span></a>.</span><div class="output"><pre></pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.nth_sub_sup"><span class="id" type="lemma">nth_sub_sup</span></a> :<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span>,<br>
   <a class="idref" href="env.html#env_mod.sub_in_env"><span class="id" type="inductive">sub_in_env</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="env.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> -&gt;<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'&lt;='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> -&gt; <br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> , <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> -&gt; <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1220)
  
  ============================
   forall (n : nat) (Γ Δ Δ' : Env) (t T : Term),
   sub_in_env Γ t T n Δ Δ' -&gt;
   forall v : nat, n &lt;= v -&gt; forall d : Term, d ↓ S v ∈ Δ -&gt; d ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intros</span> <span class="id" type="var">n</span> <span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1247)
  
  Γ : Env
  t : Term
  T : Term
  v : nat
  H : 0 &lt;= v
  d : Term
  H0 : d ↓ S v ∈ T :: Γ
  ============================
   d ↓ v ∈ Γ

subgoal 2 (ID 1251) is:
 d ↓ v ∈ B [n ← t] :: Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>. </span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1328)
  
  Γ : Env
  t : Term
  T : Term
  v : nat
  H : 0 &lt;= v
  d : Term
  H0 : d ↓ S v ∈ T :: Γ
  H2 : d ↓ v ∈ Γ
  ============================
   d ↓ v ∈ Γ

subgoal 2 (ID 1251) is:
 d ↓ v ∈ B [n ← t] :: Δ'
(dependent evars:)

</pre></div>
<span class="command"><span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1251)
  
  Γ : Env
  t : Term
  T : Term
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &lt;= v -&gt; forall d : Term, d ↓ S v ∈ Δ -&gt; d ↓ v ∈ Δ'
  v : nat
  H0 : S n &lt;= v
  d : Term
  H1 : d ↓ S v ∈ B :: Δ
  ============================
   d ↓ v ∈ B [n ← t] :: Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1405)
  
  Γ : Env
  t : Term
  T : Term
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &lt;= v -&gt; forall d : Term, d ↓ S v ∈ Δ -&gt; d ↓ v ∈ Δ'
  v : nat
  H0 : S n &lt;= v
  d : Term
  H1 : d ↓ S v ∈ B :: Δ
  H3 : d ↓ v ∈ Δ
  ============================
   d ↓ v ∈ B [n ← t] :: Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1415)
  
  Γ : Env
  t : Term
  T : Term
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &lt;= v -&gt; forall d : Term, d ↓ S v ∈ Δ -&gt; d ↓ v ∈ Δ'
  H0 : S n &lt;= 0
  d : Term
  H1 : d ↓ 1 ∈ B :: Δ
  H3 : d ↓ 0 ∈ Δ
  ============================
   d ↓ 0 ∈ B [n ← t] :: Δ'

subgoal 2 (ID 1421) is:
 d ↓ S v ∈ B [n ← t] :: Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Le.html#le_Sn_O"><span class="id" type="abbreviation">le_Sn_O</span></a> <span class="id" type="var">n</span> <span class="id" type="var">H0</span>).</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1421)
  
  Γ : Env
  t : Term
  T : Term
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &lt;= v -&gt; forall d : Term, d ↓ S v ∈ Δ -&gt; d ↓ v ∈ Δ'
  v : nat
  H0 : S n &lt;= S v
  d : Term
  H1 : d ↓ S (S v) ∈ B :: Δ
  H3 : d ↓ S v ∈ Δ
  ============================
   d ↓ S v ∈ B [n ← t] :: Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_tl"><span class="id" type="constructor">item_tl</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1422)
  
  Γ : Env
  t : Term
  T : Term
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &lt;= v -&gt; forall d : Term, d ↓ S v ∈ Δ -&gt; d ↓ v ∈ Δ'
  v : nat
  H0 : S n &lt;= S v
  d : Term
  H1 : d ↓ S (S v) ∈ B :: Δ
  H3 : d ↓ S v ∈ Δ
  ============================
   d ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Le.html#le_S_n"><span class="id" type="lemma">le_S_n</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1424)
  
  Γ : Env
  t : Term
  T : Term
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &lt;= v -&gt; forall d : Term, d ↓ S v ∈ Δ -&gt; d ↓ v ∈ Δ'
  v : nat
  H0 : n &lt;= v
  d : Term
  H1 : d ↓ S (S v) ∈ B :: Δ
  H3 : d ↓ S v ∈ Δ
  ============================
   d ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHsub_in_env</span>; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>nth_sub_sup is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.nth_sub_eq"><span class="id" type="lemma">nth_sub_eq</span></a> :<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span> <span class="id" type="var">n</span> <span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span>,<br>
   <a class="idref" href="env.html#env_mod.sub_in_env"><span class="id" type="inductive">sub_in_env</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="env.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> -&gt; <br>
  <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> , <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a><a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> -&gt; <a class="idref" href="env.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1436)
  
  ============================
   forall (t T : Term) (n : nat) (Γ Δ Δ' : Env),
   sub_in_env Γ t T n Δ Δ' -&gt; forall d : Term, d ↓ n ∈ Δ -&gt; T = d

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intros</span>  <span class="id" type="var">t</span> <span class="id" type="var">T</span> <span class="id" type="var">n</span> <span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1461)
  
  t : Term
  T : Term
  Γ : Env
  d : Term
  H : d ↓ 0 ∈ T :: Γ
  ============================
   T = d

subgoal 2 (ID 1463) is:
 T = d
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1463)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall d : Term, d ↓ n ∈ Δ -&gt; T = d
  d : Term
  H0 : d ↓ S n ∈ B :: Δ
  ============================
   T = d

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1603)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall d : Term, d ↓ n ∈ Δ -&gt; T = d
  d : Term
  H0 : d ↓ S n ∈ B :: Δ
  H2 : d ↓ n ∈ Δ
  ============================
   T = d

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHsub_in_env</span>; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>nth_sub_eq is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.nth_sub_inf"><span class="id" type="lemma">nth_sub_inf</span></a> :<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span> <span class="id" type="var">n</span> <span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span>,<br>
   <a class="idref" href="env.html#env_mod.sub_in_env"><span class="id" type="inductive">sub_in_env</span></a> <a class="idref" href="env.html#%CE%93"><span class="id" type="variable">Γ</span></a> <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="env.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> -&gt;<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>,<br>
   <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'&gt;'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> -&gt;<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> , <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">↓</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94"><span class="id" type="variable">Δ</span></a> -&gt;  <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">(</span></a> <a class="idref" href="env.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%5B'_x_'%E2%86%90'_x_'%5D'"><span class="id" type="notation">[</span></a><a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="term.html#term_mod.:Typ_scope:x_'%5B'_x_'%E2%86%90'_x_'%5D'"><span class="id" type="notation">←</span></a> <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="term.html#term_mod.:Typ_scope:x_'%5B'_x_'%E2%86%90'_x_'%5D'"><span class="id" type="notation">]</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">)↓</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="env.html#env_mod.:Typ_scope:x_'%E2%86%93'_x_'%E2%88%88'_x"><span class="id" type="notation">∈</span></a> <a class="idref" href="env.html#%CE%94'"><span class="id" type="variable">Δ'</span></a> .</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1614)
  
  ============================
   forall (t T : Term) (n : nat) (Γ Δ Δ' : Env),
   sub_in_env Γ t T n Δ Δ' -&gt;
   forall v : nat,
   n &gt; v -&gt; forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intros</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span> <span class="id" type="var">n</span> <span class="id" type="var">Γ</span> <span class="id" type="var">Δ</span> <span class="id" type="var">Δ'</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1641)
  
  t : Term
  T : Term
  Γ : Env
  v : nat
  H : 0 &gt; v
  d : Term
  H0 : d ↓ v ∈ T :: Γ
  ============================
   d [(0 - S v) ← t] ↓ v ∈ Γ

subgoal 2 (ID 1645) is:
 d [(S n - S v) ← t] ↓ v ∈ B [n ← t] :: Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">elim</span> (<a class="idref" href="env.html#env_mod.gt_O"><span class="id" type="lemma">gt_O</span></a>  <span class="id" type="var">H</span>).</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1645)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  v : nat
  H0 : S n &gt; v
  d : Term
  H1 : d ↓ v ∈ B :: Δ
  ============================
   d [(S n - S v) ← t] ↓ v ∈ B [n ← t] :: Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1655)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  H0 : S n &gt; 0
  d : Term
  H1 : d ↓ 0 ∈ B :: Δ
  ============================
   d [(S n - 1) ← t] ↓ 0 ∈ B [n ← t] :: Δ'

subgoal 2 (ID 1660) is:
 d [(S n - S (S v)) ← t] ↓ S v ∈ B [n ← t] :: Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1729)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  H0 : S n &gt; 0
  H1 : B ↓ 0 ∈ B :: Δ
  ============================
   B [(S n - 1) ← t] ↓ 0 ∈ B [n ← t] :: Δ'

subgoal 2 (ID 1660) is:
 d [(S n - S (S v)) ← t] ↓ S v ∈ B [n ← t] :: Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a>1) <span class="id" type="keyword">with</span> <span class="id" type="var">n</span> <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1733)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  H0 : S n &gt; 0
  H1 : B ↓ 0 ∈ B :: Δ
  ============================
   B [n ← t] ↓ 0 ∈ B [n ← t] :: Δ'

subgoal 2 (ID 1660) is:
 d [(S n - S (S v)) ← t] ↓ S v ∈ B [n ← t] :: Δ'
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_hd"><span class="id" type="constructor">item_hd</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1660)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  v : nat
  H0 : S n &gt; S v
  d : Term
  H1 : d ↓ S v ∈ B :: Δ
  ============================
   d [(S n - S (S v)) ← t] ↓ S v ∈ B [n ← t] :: Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span>)) <span class="id" type="keyword">with</span> (<span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span>) <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1752)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  v : nat
  H0 : S n &gt; S v
  d : Term
  H1 : d ↓ S v ∈ B :: Δ
  ============================
   d [(n - S v) ← t] ↓ S v ∈ B [n ← t] :: Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">subst</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1831)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  v : nat
  H0 : S n &gt; S v
  d : Term
  H1 : d ↓ S v ∈ B :: Δ
  H3 : d ↓ v ∈ Δ
  ============================
   d [(n - S v) ← t] ↓ S v ∈ B [n ← t] :: Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.item_tl"><span class="id" type="constructor">item_tl</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1832)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  v : nat
  H0 : S n &gt; S v
  d : Term
  H1 : d ↓ S v ∈ B :: Δ
  H3 : d ↓ v ∈ Δ
  ============================
   d [(n - S v) ← t] ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Arith.Gt.html#gt_S_n"><span class="id" type="lemma">gt_S_n</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1834)
  
  t : Term
  T : Term
  Γ : Env
  Δ : Env
  Δ' : Env
  n : nat
  B : Term
  H : sub_in_env Γ t T n Δ Δ'
  IHsub_in_env : forall v : nat,
                 n &gt; v -&gt;
                 forall d : Term, d ↓ v ∈ Δ -&gt; d [(n - S v) ← t] ↓ v ∈ Δ'
  v : nat
  H0 : n &gt; v
  d : Term
  H1 : d ↓ S v ∈ B :: Δ
  H3 : d ↓ v ∈ Δ
  ============================
   d [(n - S v) ← t] ↓ v ∈ Δ'

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <span class="id" type="var">IHsub_in_env</span>; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>nth_sub_inf is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">Lemma</span> <a name="env_mod.nth_sub_item_inf"><span class="id" type="lemma">nth_sub_item_inf</span></a> :<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">t</span> <span class="id" type="var">T</span> <span class="id" type="var">n</span> <span class="id" type="var">g</span> <span class="id" type="var">e</span> <span class="id" type="var">f</span> , <a class="idref" href="env.html#env_mod.sub_in_env"><span class="id" type="inductive">sub_in_env</span></a> <a class="idref" href="env.html#g"><span class="id" type="variable">g</span></a> <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="env.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="env.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="env.html#f"><span class="id" type="variable">f</span></a> -&gt;<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'&gt;'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> -&gt;<br>
   <span class="id" type="keyword">forall</span> <span class="id" type="var">u</span> , <a class="idref" href="env.html#env_mod.item_lift"><span class="id" type="definition">item_lift</span></a> <a class="idref" href="env.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="env.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a> -&gt; <a class="idref" href="env.html#env_mod.item_lift"><span class="id" type="definition">item_lift</span></a> (<a class="idref" href="env.html#TM.subst_rec"><span class="id" type="definition">subst_rec</span></a> <a class="idref" href="env.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="env.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="env.html#n"><span class="id" type="variable">n</span></a>) <a class="idref" href="env.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="env.html#v"><span class="id" type="variable">v</span></a>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1844)
  
  ============================
   forall (t T : Term) (n : nat) (g e f : Env),
   sub_in_env g t T n e f -&gt;
   forall v : nat, n &gt; v -&gt; forall u : Term, u ↓ v ⊂ e -&gt; u [n ← t] ↓ v ⊂ f

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">intros</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1855)
  
  t : Term
  T : Term
  n : nat
  g : Env
  e : Env
  f : Env
  H : sub_in_env g t T n e f
  v : nat
  H0 : n &gt; v
  u : Term
  H1 : u ↓ v ⊂ e
  ============================
   u [n ← t] ↓ v ⊂ f

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">destruct</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">y</span> [<span class="id" type="var">K</span> <span class="id" type="var">L</span>]].</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1863)
  
  t : Term
  T : Term
  n : nat
  g : Env
  e : Env
  f : Env
  H : sub_in_env g t T n e f
  v : nat
  H0 : n &gt; v
  u : Term
  y : Term
  K : u = y ↑ (S v)
  L : y ↓ v ∈ e
  ============================
   u [n ← t] ↓ v ⊂ f

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">exists</span> (<a class="idref" href="env.html#TM.subst_rec"><span class="id" type="definition">subst_rec</span></a> <span class="id" type="var">t</span> <span class="id" type="var">y</span> (<span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span>)); <span class="id" type="tactic">split</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1867)
  
  t : Term
  T : Term
  n : nat
  g : Env
  e : Env
  f : Env
  H : sub_in_env g t T n e f
  v : nat
  H0 : n &gt; v
  u : Term
  y : Term
  K : u = y ↑ (S v)
  L : y ↓ v ∈ e
  ============================
   u [n ← t] = y [(n - S v) ← t] ↑ (S v)

subgoal 2 (ID 1868) is:
 y [(n - S v) ← t] ↓ v ∈ f
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">rewrite</span> <span class="id" type="var">K</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">u</span> <span class="id" type="var">K</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1870)
  
  t : Term
  T : Term
  n : nat
  g : Env
  e : Env
  f : Env
  H : sub_in_env g t T n e f
  v : nat
  H0 : n &gt; v
  y : Term
  L : y ↓ v ∈ e
  ============================
   y ↑ (S v) [n ← t] = y [(n - S v) ← t] ↑ (S v)

subgoal 2 (ID 1868) is:
 y [(n - S v) ← t] ↓ v ∈ f
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">pattern</span> <span class="id" type="var">n</span> <span class="id" type="tactic">at</span> 1 .</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1871)
  
  t : Term
  T : Term
  n : nat
  g : Env
  e : Env
  f : Env
  H : sub_in_env g t T n e f
  v : nat
  H0 : n &gt; v
  y : Term
  L : y ↓ v ∈ e
  ============================
   (fun n0 : nat =&gt; y ↑ (S v) [n0 ← t] = y [(n - S v) ← t] ↑ (S v)) n

subgoal 2 (ID 1868) is:
 y [(n - S v) ← t] ↓ v ∈ f
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">replace</span> <span class="id" type="var">n</span> <span class="id" type="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a> <span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a>) <span class="id" type="tactic">by</span> <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>2 subgoals, subgoal 1 (ID 1875)
  
  t : Term
  T : Term
  n : nat
  g : Env
  e : Env
  f : Env
  H : sub_in_env g t T n e f
  v : nat
  H0 : n &gt; v
  y : Term
  L : y ↓ v ∈ e
  ============================
   y ↑ (S v) [(S v + (n - S v)) ← t] = y [(n - S v) ← t] ↑ (S v)

subgoal 2 (ID 1868) is:
 y [(n - S v) ← t] ↓ v ∈ f
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#TM.substP2"><span class="id" type="lemma">substP2</span></a>; <span class="id" type="tactic">intuition</span>.</span><div class="output"><pre>1 subgoals, subgoal 1 (ID 1868)
  
  t : Term
  T : Term
  n : nat
  g : Env
  e : Env
  f : Env
  H : sub_in_env g t T n e f
  v : nat
  H0 : n &gt; v
  u : Term
  y : Term
  K : u = y ↑ (S v)
  L : y ↓ v ∈ e
  ============================
   y [(n - S v) ← t] ↓ v ∈ f

(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="tactic">apply</span> <a class="idref" href="env.html#env_mod.nth_sub_inf"><span class="id" type="lemma">nth_sub_inf</span></a> <span class="id" type="keyword">with</span> <span class="id" type="var">T</span> <span class="id" type="var">g</span>  <span class="id" type="var">e</span>; <span class="id" type="tactic">trivial</span>.</span><div class="output"><pre>No more subgoals.
(dependent evars:)

</pre></div>
<span class="command"><br>
<span class="id" type="keyword">Qed</span>.</span><div class="output"><pre>nth_sub_item_inf is defined

</pre></div>
<span class="command"><br>

<br>
<span class="id" type="keyword">End</span> <a class="idref" href="env.html#"><span class="id" type="module">env_mod</span></a>.</span><div class="output"><pre>Module Type env_mod is defined

</pre></div>
<span class="command"><br>
</span><div class="output"><pre></pre></div>
</div>
</div>

<div>
<hr>
<a href="index.html">Index</a><hr>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div></body>
</html>
